\documentclass{article}

\usepackage{hyperref}
\hypersetup{pdfauthor={Cristian Adri√°n Ontivero}}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{caption}
\usepackage{float}
\usepackage{color}
\usepackage{mathtools}
\usepackage{enumitem}
\usepackage[hang,flushmargin]{footmisc} 

% For the commutative diagrams.
\usepackage{tikz-cd}

\usepackage{tikz}
\usetikzlibrary{automata, positioning, arrows}
\graphicspath{{imgs/}}

\definecolor{darkblue}{RGB}{49,130,189}

\newlength\tindent
\setlength{\tindent}{\parindent}
\setlength{\parindent}{0pt}
\renewcommand{\indent}{\hspace*{\tindent}}

%These tell TeX which packages to use.
\usepackage{array,epsfig}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsxtra}
\usepackage{amsthm}
\usepackage{mathrsfs}

%Here I define some theorem styles and shortcut commands for symbols I use often
\theoremstyle{definition}

\newcommand{\lra}{\longrightarrow}
\newcommand{\ra}{\rightarrow}
\newcommand{\surj}{\twoheadrightarrow}
\newcommand{\graph}{\mathrm{graph}}
\newcommand{\bb}[1]{\mathbb{#1}}
\newcommand{\Z}{\bb{Z}}
\newcommand{\Q}{\bb{Q}}
\newcommand{\R}{\bb{R}}
\newcommand{\C}{\bb{C}}
\newcommand{\N}{\bb{N}}
\newcommand{\M}{\mathbf{M}}
\newcommand{\m}{\mathbf{m}}
\newcommand{\MM}{\mathscr{M}}
\newcommand{\HH}{\mathscr{H}}
\newcommand{\Ho}{\in\HH(\Om)}
\newcommand{\textdf}[1]{\textbf{\textsf{#1}}\index{#1}}
\newcommand{\inter}[1]{\mathrm{int}{#1}}
\newcommand{\exter}[1]{\mathrm{ext}{#1}}
\newcommand{\cl}[1]{\mathrm{cl}{#1}}
\newcommand{\ds}{\displaystyle}
\newcommand{\vol}{\mathrm{vol}}
\newcommand{\cnt}{\mathrm{ct}}
\newcommand{\osc}{\mathrm{osc}}
\newcommand{\LL}{\mathbf{L}}
\newcommand{\UU}{\mathbf{U}}
\newcommand{\support}{\mathrm{support}}
\newcommand{\AND}{\;\wedge\;}
\newcommand{\OR}{\;\vee\;}
\newcommand{\Oset}{\varnothing}
\newcommand{\st}{\ni}
\newcommand{\wh}{\widehat}

\newcommand{\PS}{\mathcal{P}}
\newcommand{\CC}{\mathscr{C}}
\newcommand{\set}[1]{\left\{#1\right\}}
\newcommand{\ang}[1]{\left\langle #1 \right\rangle}
\newcommand{\Set}{\mathbf{Set}}
\newcommand{\bra}[1]{\left[#1\right]}
\newcommand{\abs}[1]{\left|#1\right|}
\newcommand{\paren}[1]{\left(#1\right)}
\newcommand{\point}[1]{\mathbf{1} \to #1}
\newcommand{\ec}[1]{{\left[#1\right]}_{\sim}}
\newcommand{\en}{\mathbin{\rotatebox[origin=c]{90}{\scriptsize $\circlearrowright$}}}
\newcommand{\id}{\mathrm{id}}
\newcommand{\cod}{\mathrm{cod~}}
\newcommand{\dom}{\mathrm{dom~}}
\newcommand{\im}{\mathrm{im~}}
\newcommand{\thra}{\twoheadrightarrow}

%Pagination stuff.
\setlength{\topmargin}{-.3 in}
\setlength{\oddsidemargin}{0in}
\setlength{\evensidemargin}{0in}
\setlength{\textheight}{9.in}
\setlength{\textwidth}{6.5in}
\pagestyle{empty}

% The solution environment is a proof environment with the "solution" text as
% well as the following adjustments:
% - No indent on paragraphs;
% - A small amount of space between paragraphs.
%
% Note: The negative space at the beginning is to remove the space before the
% first paragraph in the solution.
%\newenvironment{solution}{%
  %\begin{proof}[Solution]
  %\vspace{-8px}
  %\setlength{\parskip}{4px}
  %\setlength{\parindent}{0px}
%}{
  %\end{proof}
%}
\theoremstyle{definition}
\newtheorem{solution-internal}{}[subsection]
\newenvironment{solution}{
  \begin{solution-internal}
}{
  \end{solution-internal}
}

\begin{document}
\section*{Chapter 3}
\setcounter{section}{3}
\setcounter{subsection}{1}
\begin{solution}
  (1) Suppose $f\colon A \to B$ and $g\colon B \to C$ are monic. Let $a\colon
  \mathbf{1} \to A$ and $b\colon \mathbf{1} \to B$ be two points
  such that $g \circ f \circ a = g \circ f \circ b$. Then:
  \[
    \arraycolsep=2pt
    \begin{array}{rcl@{\hspace{2cm}}l}
      g \circ f \circ a &=& g \circ f \circ b & \text{$g$ is monic}\\
      f \circ a &=& f \circ b & \text{$f$ is monic}\\
      a &=& b & \\
  \end{array}
  \]
  Thus $g \circ f$ is monic.

  (2) Suppose $g \circ f$ is monic. Then
  \[
    \arraycolsep=2pt
    \begin{array}{rcl@{\hspace{2cm}}l}
      f \circ a &=& f \circ b & \text{left-compose $g$}\\
      g \circ f \circ a &=& g \circ f \circ b & \text{$g \circ f$ is monic}\\
      a &=& b & \\
  \end{array}
  \]
  Thus $f$ is monic.

\end{solution}


\setcounter{subsection}{3}
\setcounter{solution-internal}{0}
% 3.3.1
\begin{solution}
To show that every identity arrow is iso, we need to show it is monic,
and epic. Let $1_A$ be an identity arrow. Then:
\begin{itemize}
  \item Monic: Let $a_1 \colon \point{A}$ and $a_2 \colon \point{A}$ be two points
    such that $1_A \circ a_1 = 1_A \circ a_2$. By the identity law, $a_1 =
    a_2$. Thus $1_A$ is monic.
  \item Epic: Let $g, h$ be two arrows such that $g \circ 1_A = h \circ 1_A$.
    Then by the identity law for composition, $g = h$. Thus $1_A$ is epic.
\end{itemize}
Therefore $1_A$ is iso. Alternatively, we could say that since $1_A \circ 1_A
= 1_A$, $1_A$ is its own inverse (i.e.\ an involution), and hence an iso.
\end{solution}

% 3.3.2
\begin{solution} 
  Let $f\colon A \to B$ be an iso. Then there exists a function $f^{-1}\colon
  B \to A$ such that $f^{-1} \circ f = 1_A$ and $f \circ f^{-1} = 1_B$ But
  then taking $f$ as ${(f^{-1})}^{-1}$ (the inverse of the inverse) proves
  that $f^{-1}$ is an iso.
\end{solution}

% 3.3.3
\begin{solution}
  Suppose $f\colon B \to C$ and $g\colon A \to B$ are iso. Then 
  \[ (f \circ g) \circ (g^{-1} \circ f^{-1}) = f \circ (g \circ g^{-1}) \circ
  f^{-1} = f \circ 1_B \circ f^{-1} = f \circ f^{-1} = 1_C \]
  and 
  \[  (g^{-1} \circ f^{-1}) \circ (f \circ g) = g^{-1} \circ (f^{-1} \circ f)
  \circ g = g^{-1} \circ 1_B \circ g =  g^{-1} \circ g = 1_A \]
  Thus $f \circ g$ is an iso, with $(f \circ g)^{-1} = g^{-1} \circ f^{-1}$.
\end{solution}

\setcounter{subsection}{4}
\setcounter{solution-internal}{0}
%3.4.1 
\begin{solution}
  $ $
  \begin{enumerate}[label=\roman*.]
    \item $1_A\colon A \cong A \Rightarrow A \cong A$, i.e.\ there is an arrow---the identity---from $A$ to $A$, which is an iso, thus $A \cong A$.
    \item Let $A \cong B$. Then there exists an arrow $f \colon A \to B$ which
      is an iso. Then there exists an arrow $f^{-1} \colon B \to A$ which is an
      iso. Thus $B \cong A$.
    \item Let $A \cong B$ and $B \cong C$. Then there exist arrows $f \colon A
      \cong B$ and $g\colon B \cong C$. Then by exercise 3.3.3, $f \circ g
      \colon A \to C$ is an iso. Thus $A \cong C$.
  \end{enumerate}
\end{solution}

\setcounter{subsection}{6}
\setcounter{solution-internal}{0}
%3.6.1 
\begin{solution}
  Given $1$ and $1'$ terminal $\CC$-objects there exists a unique arrow $!_1
  \colon 1 \to 1'$, since $1'$ is terminal, and there exists a unique arrow
  $!_{1'} \colon 1' \to 1$, since 1 is terminal. Then $!_1 \circ !_{1'}\colon
  1 \to 1$. Since there is only one arrow from $1$ to $1$, it must be the
  identity. Similarly for $!_{1'} \circ !_1 \colon 1' \to 1'$. Hence both are
  inverses of each other, thus $1 \cong 1'$.

  \begin{center}
  \begin{tikzcd}
    1 \ar[loop left, "1_1"]\ar[r, "!_1", shift left] & 1' \ar[l, shift left,
    "!_{1'}"] \ar[loop right, "1_{1'}"]
  \end{tikzcd}
  \begin{gather*}
  !_1 \circ !_{1'} = 1_1,~!_{1'} \circ !_1 = 1_{1'}  \\
  1 \cong 1'
  \end{gather*}
  \end{center}
\end{solution}

\setcounter{subsection}{6}
\setcounter{solution-internal}{0}
% 3.6.2 
\begin{solution}
  \begin{align*}
    \Set^2 &: \ang{\set{e}, \set{e'}} \\
    Set^{\rightarrow} &: TODO \\
    \text{poset}~\mathbf{n} &: n, \text{since $n$ satisfies $\forall x (x \sqsubseteq n)$}
  \end{align*}
\end{solution}

% 3.6.3 
\begin{solution}
  Let $f\colon 1 \to A$ be an arrow whose domain is a terminal object, and
  let $g, h \colon B \to 1$ be a pair of functions such that $f \circ g = f
  \circ h$. Since 1 is a terminal object, there is one and only one arrow from
  $B$ to $1$. Thus $g = h$.
\end{solution}

\setcounter{subsection}{8}
\setcounter{solution-internal}{0}
\begin{solution}
  We need to show that $\ang{pr_a, pr_b} = 1_{a \times b}$. For
  this, note that:
  \begin{align*}
    1_{a \times b} &\colon a \times b \to a \times b \\
    pr_a           &\colon a \times b \to a \\
    pr_b           &\colon a \times b \to b
  \end{align*}
  Thus, taking the product of $pr_a$ and $pr_b$, we get $\ang{pr_a, pr_b} \colon a \times b \to a \times b$.

  \begin{center}
  \begin{tikzcd}[row sep=20pt, column sep=68pt]
    & b \\
    a \times b \ar[r, dashed, "\ang{pr_a{,} pr_b}"] \ar[ru, "pr_b"]
    \ar[rd, "pr_a"'] & a \times b \ar[d, "pr_a"] \ar[u, "pr_b"'] \\
            & a
  \end{tikzcd}
  \end{center}
\end{solution}

% 3.8.2 
\begin{solution}
  Suppose $\ang{f, g} = \ang{k, h}$. Then all we need
  is to left-compose $\text{pr}_a$ and $\text{pr}_b$:
  \[
    \arraycolsep=2pt
    \begin{array}{rcl @{\hspace{2cm}} rcl}
      pr_a \circ \ang{f,g} &=& pr_a \circ \ang{k, h} & pr_b \circ
      \ang{f, g} &=& pr_b \circ \ang{k, h} \\
    f &=& k & g &=& h
  \end{array}
  \]
\end{solution}

%3.8.3
\begin{solution}
TODO
\end{solution}

% 3.8.4 
\begin{solution}
TODO
\end{solution}

% 3.8.5
\begin{solution}
TODO
\end{solution}

% 3.8.6
\begin{solution}
  Let $a, b$ be two objects in $\CC$, and $a \times b$ be a product of $a$
  and $b$, with $pr_a\colon a \times b \to a$ and $pr_b\colon a \times b \to b$
  its corresponding projections. Take the product arrow $\ang{pr_b, pr_a}\colon
  a \times b \to b \times a$. Its inverse is given by $\ang{pr_a', pr_b'}$,
  where $pr_a'\colon b \times a \to a$ and $pr_b' \colon b \times a \to b$ are
  the product arrows of $b \times a$. Thus, $\ang{pr_a, pr_b}$ is an
  iso, therefore $a\times b \cong b \times a$.
  \begin{center}
  \begin{tikzcd}[row sep=36pt, column sep=36pt]
    & a \times b \ar[rd, "pr_b"] \ar[ld, "pr_a"'] \ar[dd, "\ang{pr_b{,}pr_a}"', shift right] & \\
    a & & b \\
      & b \times a \ar[lu, "pr_a'"] \ar[uu, "\ang{pr_a'{,}pr_b'}"',
    shift right] \ar[ru, "pr_b'"'] &
  \end{tikzcd}
  \end{center}
\end{solution}

% 3.8.7
\newpage
\begin{solution}
  Let $a, b, c$ be $\CC$-objects. Then $a \times b$, $b \times c$,$(a\times b)
  \times c$ and $(a\times b)\times c$ are all product objects with their
  corresponding projections. Denote the projections of each
  product object by $\pi^i_j$ whenever $\pi^i_j\colon i \to j$.
  Then setting the following arrows makes the diagram commute.

  \begin{center}
  \begin{tikzcd}[row sep=80pt, column sep=140pt]
    (a \times b) \times c \ar[d, "\pi^{(a\times b) \times c}_{a \times b}"'] \ar[rr, dashed, "\ang{\pi^{a\times b}_a \circ \pi^{(a\times b) \times
    c}_{a\times b}{,} \ang{\pi^{a\times b}_b \circ \pi^{(a\times b)\times c}_{a\times b}{,} \pi^{(a\times b)\times c}_c}}"] \ar[drr, dashed, sloped,
    pos=.12, "\ang{\pi^{a \times b}_b \circ \pi^{(a\times b)\times c}_{a\times
    b}, \pi^{(a\times b)\times c}_c}"]
    \ar[ddrr, "\pi^{(a\times b)\times c}_c", sloped, pos=.6] & & a \times (b \times
    c) \ar[d, "\pi^{a \times (b\times c)}_{b\times c}"] \ar[dll, dashed, sloped,
    pos=.12, "\ang{\pi^{a\times(b\times c)}_a, \pi^{b\times c}_b \circ
    \pi^{a\times(b\times c)}_{b\times c}}"'] \ar[ddll, "\pi^{a\times (b\times
  c)}_a"', sloped, pos=.6] \\
    a \times b \ar[d, "\pi^{a\times b}_a"'] \ar[dr, "\pi^{a \times b}_b"',
    sloped, pos=.8] & & b
    \times c \ar[d, "\pi^{b\times c}_c"]
    \ar[dl, "\pi^{b\times c}_b", sloped, pos=.8] \\
    a & b & c
  \end{tikzcd}
  \end{center}
The arrow $\ang{\pi^{a\times b}_a \circ \pi^{(a\times b) \times c}_{a\times
b}, \ang{\pi^{a\times b}_b \circ \pi^{(a\times b)\times c}_{a\times b},
\pi^{(a\times b)\times c}_c}}$ has 
$\ang{\ang{\pi^{a\times(b\times c)}_a, \pi^{b\times c}_b \circ
\pi^{a\times(b\times c)}_{b\times c}}, \pi^{b\times c}_c \circ \pi^{a\times
(b\times c)}_{b\times c}}$ as its inverse.
To see this first note that, by exercise 3.8.3, $\ang{x,y} \circ h =
\ang{x \circ h, y \circ h}$. Then, for the first component we have: 
  \begin{align*}
    & \pi^{a\times b}_a \circ \pi^{(a\times b) \times c}_{a\times
b} \circ \ang{\ang{\pi^{a\times(b\times c)}_a, \pi^{b\times c}_b \circ
\pi^{a\times(b\times c)}_{b\times c}}, \pi^{b\times c}_c \circ \pi^{a\times
(b\times c)}_{b\times c}} \\
    =~& \pi^{a\times b}_a \circ \ang{\pi^{a\times(b\times c)}_a, \pi^{b\times c}_b \circ
\pi^{a\times(b\times c)}_{b\times c}} \\
    =~& \pi^{a\times(b\times c)}_a
  \end{align*}
  For the second component, we have:
  \[ \ang{\pi^{a\times b}_b \circ \pi^{(a\times b)\times c}_{a\times b},
  \pi^{(a\times b)\times c}_c} \circ \ang{\ang{\pi^{a\times(b\times c)}_a, \pi^{b\times c}_b \circ
\pi^{a\times(b\times c)}_{b\times c}}, \pi^{b\times c}_c \circ \pi^{a\times
(b\times c)}_{b\times c}} \]
Again, we split the analysis for each component. For the first one:
  \begin{align*}
    & \pi^{a\times b}_b \circ \pi^{(a\times b)\times c}_{a\times b} \circ \ang{\ang{\pi^{a\times(b\times c)}_a, \pi^{b\times c}_b \circ
\pi^{a\times(b\times c)}_{b\times c}}, \pi^{b\times c}_c \circ \pi^{a\times
(b\times c)}_{b\times c}} \\
    =~& \pi^{a\times b}_b \circ \ang{\pi^{a\times(b\times c)}_a, \pi^{b\times
    c}_b \circ \pi^{a\times(b\times c)}_{b\times c}} \\
    =~& \pi^{b\times c}_b \circ \pi^{a\times(b\times c)}_{b\times c}
  \end{align*}
  and for the second:
  \begin{align*}
    & \pi^{(a\times b)\times c}_c \circ \ang{\ang{\pi^{a\times(b\times c)}_a, \pi^{b\times c}_b \circ
\pi^{a\times(b\times c)}_{b\times c}}, \pi^{b\times c}_c \circ \pi^{a\times
(b\times c)}_{b\times c}} \\
  =~& \pi^{b\times c}_c \circ \pi^{a\times (b\times c)}_{b\times c}
  \end{align*}

Hence, the composition of both arrows is:
\[ \ang{\pi^{a\times(b\times c)}_a, \ang{\pi^{b\times c}_b \circ
\pi^{a\times(b\times c)}_{b\times c},\pi^{b\times c}_c \circ \pi^{a\times
(b\times c)}_{b\times c}}} \colon a \times (b \times c) \to a \times (b \times c) \]
which is (by exercises 3.8.1 and 3.8.5) precisely $1_{a\times (b\times c)}$.
An analogous reasoning shows that swapping the composition order leads to
$1_{(a\times b) \times c}$. Thus $(a \times b) \times c \cong a \times (b \times c)$.
\end{solution}

\end{document}
